<Page
    x:Class="PressMachineMainModeules.Views.PreParams"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:auth="clr-namespace:WPF.Admin.Themes.Converter;assembly=WPF.Admin.Themes"
    xmlns:com="clr-namespace:PressMachineMainModeules.Components"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:PressMachineMainModeules.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:WPF.Admin.Models.Models;assembly=WPF.Admin.Models"
    xmlns:vm="clr-namespace:PressMachineMainModeules.ViewModels"
    Title="PreParams"
    d:DataContext="{d:DesignInstance Type=vm:PressMachineParamsViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <Border
        Margin="1"
        BorderBrush="{DynamicResource Border.Brush}"
        BorderThickness="1">
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="0">
                <TabControl Style="{StaticResource TabControl}">

                    <TabItem Header="共有参数" Style="{StaticResource TabItemStyle}">
                        <com:PrssMachineCommonParamsterView />
                    </TabItem>
                    <TabItem Header="Press1位置参数一" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press1位置参数一"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs01}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams01}" />
                    </TabItem>
                    <TabItem Header="Press1位置参数二" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press2位置参数二"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs02}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams02}" />
                    </TabItem>

                    <TabItem Header="Press2位置参数一" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press1位置参数一"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs03}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams03}" />
                    </TabItem>
                    <TabItem Header="Press2位置参数二" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press2位置参数二"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs04}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams04}" />
                    </TabItem>









                    <TabItem Header="Press3位置参数" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press3位置参数"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs05}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.Press3Params01}" />
                    </TabItem>
                    <!--<TabItem Header="Press3位置参数二" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press3位置参数二"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs02}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams02}" />
                    </TabItem>

                    <TabItem Header="Press4位置参数一" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press4位置参数一"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs04}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams04}" />
                    </TabItem>
                    <TabItem Header="Press4位置参数二" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="Press4位置参数二"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs04}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams04}" />
                    </TabItem>-->






                    <!--<TabItem Header="共有参数" Style="{StaticResource TabItemStyle}">
                        <com:PrssMachineCommonParamsterView />
                    </TabItem>
                    <TabItem Header="压装参数一" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="压装参数一"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs01}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams01}" />
                    </TabItem>
                    <TabItem Header="压装参数二" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="压装参数二"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs02}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams02}" />
                    </TabItem>
                    <TabItem Header="压装参数三" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="压装参数三"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs03}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams03}" />
                    </TabItem>
                    <TabItem Header="压装参数四" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineParamstersView
                            Title="压装参数四"
                            MonitorRecs="{Binding CurrentRecipeDetail.MonitorRecs04}"
                            PressMachineParamsDa="{Binding CurrentRecipeDetail.PlcParams04}" />
                    </TabItem>


                    <TabItem Header="X轴参数" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineXParamsterView Title="X轴参数" PressMachineParamsXDa="{Binding CurrentRecipeDetail.PlcParamsX}" />
                    </TabItem>-->



                    <TabItem Header="Press1横移" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineSidesParamsterView Title="左压机横移" PressMachineSideswayDa="{Binding CurrentRecipeDetail.SideswayDaLeft}" />
                    </TabItem>
                    <TabItem Header="Press2横移" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineSidesParamsterView Title="右压机横移" PressMachineSideswayDa="{Binding CurrentRecipeDetail.SideswayDaRight}" />
                    </TabItem>
                    <TabItem Header="Press3横移" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineSidesParamsterView Title="右压机横移" PressMachineSideswayDa="{Binding CurrentRecipeDetail.SideswayDaCenter}" />
                    </TabItem>

                    <TabItem Header="滑台参数" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineWayParamsterView Title="滑台参数" PressMachineSlipwayDa="{Binding CurrentRecipeDetail.SlipwayDa}" />
                    </TabItem>

                    <TabItem Header="可视区域" Style="{StaticResource TabItemStyle}">
                        <com:PressMachineVisionAreaView CurvePara="{Binding CurrentRecipeDetail.CurvePara}" />
                    </TabItem>
                </TabControl>
            </Grid>

            <Grid Grid.Column="1" Width="200">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0">
                    <TextBlock>配方名称：</TextBlock>
                    <StackPanel Orientation="Horizontal">
                        <TextBox
                            x:Name="paramsName"
                            Width="150"
                            Style="{StaticResource TextBox.Small}"
                            Text="{Binding ConfigName}" />
                        <Button
                            Width="50"
                            Command="{Binding SearchCommand}"
                            Style="{StaticResource ButtonDefault}">
                            搜索
                        </Button>
                    </StackPanel>
                </StackPanel>

                <Grid Grid.Row="1">
                    <ListBox
                        x:Name="ConfigNames"
                        Margin="0,5"
                        ItemsSource="{Binding ConfigNames}" />
                </Grid>


                <UniformGrid Grid.Row="2" Columns="2">
                    <Button
                        Width="80"
                        Margin="10,5"
                        Command="{Binding SaveCommand}"
                        IsEnabled="{Binding Source={x:Static auth:LoginAuthHelper.LoginUser}, Path=LoginAuth, Converter={StaticResource EngineerEnabled}}"
                        Style="{StaticResource ButtonPrimary}"
                        Visibility="{Binding Source={x:Static auth:LoginAuthHelper.LoginUser}, Path=LoginAuth, Converter={StaticResource EngineerVisibility}}">
                        保存本地
                    </Button>
                    <Button
                        Width="80"
                        Command="{Binding ReadCommand}"
                        CommandParameter="{Binding ElementName=ConfigNames}"
                        Style="{StaticResource ButtonInfo}">
                        读取本地
                    </Button>
                    <Button
                        Width="80"
                        Command="{Binding DeleteCommand}"
                        CommandParameter="{Binding ElementName=ConfigNames}"
                        IsEnabled="{Binding Source={x:Static auth:LoginAuthHelper.LoginUser}, Path=LoginAuth, Converter={StaticResource EngineerEnabled}}"
                        Style="{StaticResource ButtonDanger}"
                        Visibility="{Binding Source={x:Static auth:LoginAuthHelper.LoginUser}, Path=LoginAuth, Converter={StaticResource EngineerVisibility}}">
                        删除本地
                    </Button>
                    <Button
                        Width="80"
                        Command="{Binding UseParamsterCommand}"
                        Style="{StaticResource ButtonSuccess}">
                        应用配方
                    </Button>
                    <Button
                        Width="80"
                        Command="{Binding ReadPlcContentCommand}"
                        Style="{StaticResource ButtonInfo}">
                        读取PLC
                    </Button>
                </UniformGrid>
            </Grid>

        </Grid>
    </Border>
</Page>
