<UserControl
    x:Class="PressMachineMainModeules.Components.AutoCheckCodeContentView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i18n="clr-namespace:WPF.Admin.Themes.I18n;assembly=WPF.Admin.Themes"
    xmlns:local="clr-namespace:PressMachineMainModeules.Components"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:PressMachineMainModeules.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:AutoCheckCodeContentViewModel}"
    mc:Ignorable="d">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="200" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <StackPanel Margin="10" Orientation="Horizontal">
                <TextBlock VerticalAlignment="Bottom" Text="{i18n:Localize CheckCode.CheckCodeParameterNow}" />
                <TextBlock
                    VerticalAlignment="Bottom"
                    FontSize="20"
                    FontWeight="Bold"
                    Foreground="{DynamicResource Primary.Brush}"
                    Text="{Binding NowUseAutoCheckCodeParameter}" />
            </StackPanel>
            <GroupBox
                Grid.Row="1"
                Margin="10,0"
                Header="{i18n:Localize CheckCode.Header}">
                <ScrollViewer>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border Grid.Column="0">
                            <ItemsControl ItemsSource="{Binding AutoCheckCodeParameterModel.ParameterMainModels}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border>
                                            <StackPanel Margin="5">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock FontSize="20" Foreground="{DynamicResource Primary.Brush}"
                                                               i18n:I18nLocalizeAttach.AutoLocalize="CheckCode.MainFeature"></TextBlock>

                                                    <StackPanel VerticalAlignment="Bottom">
                                                        <TextBlock
                                                            FontSize="8"
                                                            FontWeight="Bold"
                                                            i18n:I18nLocalizeAttach.AutoLocalize="CheckCode.MainToken"
                                                            />

                                                        <TextBlock FontSize="6" Text="{Binding Key}" />
                                                    </StackPanel>
                                                </StackPanel>
                                                <TextBox Margin="0,5" Text="{Binding Value}" />
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Border>

                        <Border Grid.Column="1">
                            <ItemsControl ItemsSource="{Binding AutoCheckCodeParameterModel.ParameterPartialModels}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border>
                                            <StackPanel Margin="5">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock FontSize="20" Foreground="{DynamicResource Primary.Brush}"
                                                               i18n:I18nLocalizeAttach.AutoLocalize="CheckCode.PartFeature"></TextBlock>

                                                    <StackPanel VerticalAlignment="Bottom">
                                                        <TextBlock
                                                            FontSize="8"
                                                            FontWeight="Bold"
                                                            i18n:I18nLocalizeAttach.AutoLocalize="CheckCode.PartToken"
                                                            />

                                                        <TextBlock FontSize="6" Text="{Binding Key}" />
                                                    </StackPanel>
                                                </StackPanel>
                                                <TextBox Margin="0,5" Text="{Binding Value}" />
                                            </StackPanel>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Border>
                    </Grid>
                </ScrollViewer>
            </GroupBox>
        </Grid>

        <Grid Grid.Column="1" Width="200">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0">
                <TextBlock Margin="3" FontSize="15" Text="{i18n:Localize Parameter.Name}"></TextBlock>
                <StackPanel Orientation="Horizontal">
                    <TextBox
                        x:Name="paramsName"
                        Width="144"
                        Style="{StaticResource TextBox.Small}"
                        Text="{Binding ConfigName}" />
                    <Button
                        Width="50"
                        Margin="3,0"
                        Content="{i18n:Localize btn.Search}"
                        Command="{Binding SearchCommand}"
                        Style="{StaticResource ButtonDefault}">
                        
                    </Button>
                </StackPanel>
            </StackPanel>

            <Grid Grid.Row="1">
                <ListBox
                    x:Name="ConfigNames"
                    Margin="0,5"
                    ItemsSource="{Binding AutoCheckCodeParameterList}" />
            </Grid>


            <UniformGrid Grid.Row="2" Columns="2">
                <Button
                    Width="80"
                    Margin="10,5"
                    Content="{i18n:Localize btn.Parameter.Save}"
                    Command="{Binding SaveCommand}"
                    Style="{StaticResource ButtonSuccess}">
                    
                </Button>
                <Button
                    Width="80"
                    Content="{i18n:Localize btn.Parameter.ReadLocal}"
                    Command="{Binding ReadCommand}"
                    CommandParameter="{Binding ElementName=ConfigNames}"
                    Style="{StaticResource ButtonInfo}">
                   
                </Button>
                <Button
                    Width="80"
                    Content="{i18n:Localize btn.Parameter.DeleteLocal}"
                    Command="{Binding DeleteCommand}"
                    CommandParameter="{Binding ElementName=ConfigNames}"
                    Style="{StaticResource ButtonDanger}">
                   
                </Button>
                <Button
                    Width="80"
                    Content="{i18n:Localize btn.Parameter.UseLocal}"
                    Command="{Binding UseParameterCommand}"
                    CommandParameter="{Binding ElementName=ConfigNames}"
                    Style="{StaticResource ButtonSuccess}">
                    
                </Button>
            </UniformGrid>
        </Grid>

    </Grid>
</UserControl>
